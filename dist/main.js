$(document).ready((function(){function t(t){const e=$("<li></li>").addClass("todo-item "+(t.completed?"todo-item--checked":"")).attr("data-id",t.id),o=$("<input>").attr("type","checkbox").prop("checked",t.completed).on("change",(function(){t.completed=this.checked,e.toggleClass("todo-item--checked",t.completed),function(t){if("undefined"!=typeof Storage){const e=JSON.parse(localStorage.getItem("tod"))||[],o=e.findIndex((e=>e.id===t.id));-1!==o&&(e[o]=t,localStorage.setItem("tod",JSON.stringify(e)))}else console.error("LocalStorage не підтримується в цьому браузері.")}(t)})),n=$("<span></span>").addClass("todo-item__description").text(t.text).on("click",(function(){$("#taskText").text(t.text),$("#taskModal").modal("show")})),a=$("<button></button>").addClass("todo-item__delete btn btn-danger").text("Видалити").on("click",(function(){!function(t){if("undefined"!=typeof Storage){const e=(JSON.parse(localStorage.getItem("tod"))||[]).filter((e=>e.id!==t.id));localStorage.setItem("tod",JSON.stringify(e))}else console.error("LocalStorage не підтримується в цьому браузері.")}(t),e.remove()}));e.append(o,n,a),$(".js--todos-wrapper").append(e)}"undefined"!=typeof Storage?(JSON.parse(localStorage.getItem("tod"))||[]).forEach((e=>{t(e)})):console.error("LocalStorage is not supported in this browser."),$(".js--form").on("submit",(function(e){e.preventDefault(),function(){const e=$(".js--form__input").val().trim();if(""===e)return;const o={id:Date.now(),text:e,completed:!1};t(o),function(t){if("undefined"!=typeof Storage){const e=JSON.parse(localStorage.getItem("tod"))||[];e.push(t),localStorage.setItem("tod",JSON.stringify(e))}else console.error("LocalStorage не підтримується в цьому браузері.")}(o),$(".js--form__input").val("")}()}))}));